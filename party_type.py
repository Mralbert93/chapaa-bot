PartyTypeInfo = {
    "Apple Pie": {
        "Aliases": ["apple pie"],
        "Roles": {
            "Starter": ["Open"],
            "Apple": ["Open"],
            "Sprouts": ["Open"],
            "Leafer": ["Open"],
            "Dough": ["Open"],
            "Filler": ["Open"],
            "Overprep": ["Open"] * 4
        },
        "Ingredients": {
            "Starter": "<:butter:1269046608465760257> Butter",
            "Apple": "<:apple:1269047161472155798> 3x Apple",
            "Sprouts": "<:spice_sprouts:1269044707074506883> Spice Sprouts",
            "Leafer": "<:sweet_leaf:1269047572098711582> Sweet Leaves",
            "Dough": "<:wheat:1172680400276029541> Wheat",
            "Overprep": "Any ingredient above"
        },
        "Image": "https://palia.wiki.gg/images/f/fb/Apple_Pie.png",
        "Type": "Cooking Parties"
    },
    "Bouillabaisse": {
        "Aliases": ["bouillabaisse", "bouil"],
        "Roles": {
            "Starter": ["Open"],
            "Dough": ["Open"],
            "Potato": ["Open"],
            "Onion": ["Open"],
            "Sprouts": ["Open"],
            "Overprep": ["Open"] * 4
        },
        "Ingredients": {
            "Starter": "<:fish:1269048522057977929> Any Bass, <:oyster_meat:1269049030294376479> Oyster Meat",
            "Dough": "<:wheat:1269044256635355182> Wheat",
            "Potato": "<:potato:1269049307584008202> Potato",
            "Onion": "<:onion:1269049565542355075> Onion",
            "Sprouts": "<:spice_sprouts:1269044707074506883> Spice Sprouts",
            "Overprep": "Any ingredient above"
        },
        "Image": "https://palia.wiki.gg/images/9/9d/Bouillabaisse.png",
        "Type": "Cooking Parties"
    },
    "Bug Catching": {
        "Aliases": ["bug", "catching"],
        "Roles": {
            "Catcher": ["Open"]*10,
        },
        "Ingredients": {
            "Catcher": "<:smoke_bomb:1269054305042956360> Smoke Bombs, <:honey_lure:1269054444595712072> Honey Lure (Optional)"
        },
        "Image": "https://palia.wiki.gg/images/thumb/4/47/Currency_Bug.png/75px-Currency_Bug.png",
        "Type": "Bug Catching Parties",
        "DisplayQuantity": False
    },
    "Celebration Cake": {
        "Aliases": ["celebration", "cake", "cakes"],
        "Roles": {
            "Starter": ["Open"],
            "Batter": ["Open"] * 3,
            "Froster": ["Open"],
            "Leafer": ["Open"] * 4,
            "Fruit Froster": ["Open"] * 3,
            "Oven": ["Open"] * 3,
            "Spreader": ["Open"] * 3,
            "Flexible": ["Open"] * 4
        },
        "Ingredients": {
            "Starter": "<:blueberries:1269049812221820968> Blueberries",
            "Batter": "<:butter:1269046608465760257> Butter, <:egg:1269050060684136478> Eggs, <:flour:1168232067197317130> Flour",
            "Froster": "<:milk:1269050758666522767> Milk, <:butter:1269046608465760257> Butter",
            "Leafer": "<:sweet_leaf:1269047572098711582> Sweet Leaves",
            "Fruit Froster": "<:apple:1269047161472155798> Any Fruit, <:sugar:1269055815097127066> Sugar",
            "Flexible": "Ingredients TBD"
        },
        "Image": "https://palia.wiki.gg/images/8/81/Celebration_Cake.png",
        "Type": "Cooking Parties"
    },
    "Chili Oil Dumpling": {
        "Aliases": ["chili", "dumpling", "dumplings"],
        "Roles": {
            "Starter": ["Open"],
            "Meat": ["Open"],
            "Vegetable": ["Open"],
            "Wheat": ["Open"],
            "Rice": ["Open"],
            "Pepper": ["Open"],
            "Oil": ["Open"],
            "Overprep": ["Open"] * 4
        },
        "Ingredients": {
            "Starter": "<:spice_sprouts:1269044707074506883> Spice Sprouts",
            "Meat": "<:meat:1269050404373790730> Any Red Meat",
            "Vegetable": "<:potato:1269049307584008202> Any Vegetable",
            "Wheat": "<:wheat:1269044256635355182> Wheat",
            "Rice": "<:rice:1269050943090200637> Rice",
            "Pepper": "<:spicy_pepper:1269051172245999616> Spicy Pepper",
            "Oil": "<:cooking_oil:1269043470874447923> Cooking Oil",
            "Overprep": "Any ingredient above"
        },
        "Image": "https://palia.wiki.gg/images/c/c1/Chili_Oil_Dumplings.png",
        "Type": "Cooking Parties"
    },
    "Crab Pot Pie": {
        "Aliases": ["crab"],
        "Roles": {
            "Starter": ["Open"],
            "Dough": ["Open"],
            "Onion": ["Open"],
            "Vegetable": ["Open"],
            "Crab": ["Open"],
            "Overprep": ["Open"] * 4
        },
        "Ingredients": {
            "Starter": "<:butter:1269046608465760257> Butter, <:corn:1269051443239714877> Corn",
            "Dough": "<:wheat:1269044256635355182> Wheat",
            "Onion": "<:onion:1269049565542355075> Onion",
            "Vegetable": "<:potato:1269049307584008202> Any Vegetable",
            "Crab": "<:crab:1269051710303899678> Any Crab",
            "Overprep": "Any ingredient above"
        },
        "Image": "https://palia.wiki.gg/images/c/c3/Crab_Pot_Pie.png",
        "Type": "Cooking Parties"
    },
    "Fishing": {
        "Aliases": ["fish", "fishing"],
        "Roles": {
            "Fisher": ["Open"]*10,
        },
        "Ingredients": {
            "Fisher": "<:worm:1269052110302085202><:glow_worm:1269052232939339776> Any Worms (Optional)"
        },
        "Image": "https://palia.wiki.gg/images/thumb/9/97/Currency_Fishing.png/75px-Currency_Fishing.png",
        "Type": "Fishing Parties",
        "DisplayQuantity": False
    },
    "Foraging": {
        "Aliases": ["foraging", "chopping", "chop", "woodcut"],
        "Roles": {
            "Forager": ["Open"]*10,
        },
        "Ingredients": {
        },
        "Image": "https://palia.wiki.gg/images/thumb/b/b0/Currency_Foraging.png/75px-Currency_Foraging.png",
        "Type": "Foraging Parties",
        "DisplayQuantity": False
    },
    "Hotpot": {
        "Aliases": ["hotpot"],
        "Roles": {
            "Table 1": ["Open"]*4,
            "Table 2": ["Open"]*4,
            "Table 3": ["Open"]*4
        },
        "Ingredients": {
        },
        "Image": "https://palia.wiki.gg/images/b/b3/Hotpot_Noodle_Category.png",
        "Type": "Hotpot Parties",
        "DisplayQuantity": False
    },
    "Hunting": {
        "Aliases": ["hunt", "hunting"],
        "Roles": {
            "Hunter": ["Open"]*10,
        },
        "Ingredients": {
            "Hunter": "<:fine_arrow:1269052557909692608><:slowdown_arrow:1269052685173133453><:dispel_arrow:1269052817373528247> Arrows"
        },
        "Image": "https://palia.wiki.gg/images/thumb/8/8b/Currency_Hunting.png/75px-Currency_Hunting.png",
        "Type": "Hunting Parties",
        "DisplayQuantity": False
    },
    "Mining": {
        "Aliases": ["mine", "miner", "mining"],
        "Roles": {
            "Miner": ["Open"]*10,
        },
        "Ingredients": {
        },
        "Image": "https://palia.wiki.gg/images/thumb/b/b0/Currency_Mining.png/75px-Currency_Mining.png",
        "Type": "Mining Parties",
        "DisplayQuantity": False
    },
    "Muujin Bahari": {
        "Aliases": ["muujin", "bahari"],
        "Roles": {
            "Starter": ["Open"],
            "Mustard": ["Open"],
            "Grilled Muujin": ["Open"],
            "Chopped Garlic": ["Open"],
            "Chopped Sprouts": ["Open"],
            "Chopped Onion": ["Open"],
            "Chopped Pepper": ["Open"],
            "Chopped Mushroom": ["Open"],
            "Proschapaa": ["Open"],
            "Cornmeal": ["Open"] * 2,
            "Dough": ["Open"] * 2,
            "Spice & Veggie Mixer": ["Open"],
            "Rolled Dough": ["Open"],
            "Duxelles": ["Open"],
            "Rolled Duxelles": ["Open"],
            "Unbaked Muujin": ["Open"],
            "Baker": ["Open"]
        },
        "Ingredients": {
            "Starter": "<:butter:1269046608465760257> Butter",
            "Mustard": "<:spice_sprouts:1269044707074506883> Spice Sprouts, <:vinegar:1269052977994403910> Vinegar",
            "Grilled Muujin": "<:muujin_meat:1269053150321578015> Muujin Meat, <:plant_fiber:1269053285877157980> Plant Fiber, <:cooking_oil:1269043470874447923> Oil",
            "Chopped Garlic": "<:garlic:1269053413115826322> Garlic",
            "Chopped Sprouts": "<:spice_sprouts:1269044707074506883> Spice Sprouts",
            "Chopped Onion": "<:onion:1269049565542355075> Onion",
            "Chopped Pepper": "<:spicy_pepper:1269051172245999616> Spicy Pepper",
            "Chopped Mushroom": "<:mushroom:1269053592388763850>  Mushroom",
            "Proschapaa": "<:chapaa_meat:1269053848429920447> Chapaa Meat, <:salt:1269053968546402326> Salt", 
            "Cornmeal": "<:corn:1269051443239714877> Corn",
            "Dough": "<:wheat:1269044256635355182> Wheat",
            "Rolled Dough": "<:butter:1269046608465760257> Butter, <:salt:1269053968546402326> Salt",
            "Duxelles": "<:salt:1269053968546402326> Salt",
            "Unbaked Muujin": "<:egg:1269050060684136478> Egg"
        },
        "Image": "https://palia.wiki.gg/images/thumb/c/cb/Currency_Cooking.png",
        "Type": "Cooking Parties"
    }
}

SUPPORTED_PARTY_TYPES = set(PartyTypeInfo.keys())

def get_supported_party_types():
    return SUPPORTED_PARTY_TYPES

def get_roles_list(party_type):
    return list(PartyTypeInfo.get(party_type, {}).get("Roles", {}).keys())

def resolve_party_type(user_input):
    for party_type, party_info in PartyTypeInfo.items():
        aliases = party_info.get("Aliases", [])
        for alias in aliases:
            if alias.lower() in user_input.lower():
                return party_type
    return None

def get_party_type(type):
    return PartyTypeInfo[type]["Type"]

def display_quantity(type):
    try:
        return PartyTypeInfo[type]["DisplayQuantity"]
    except:
        return True
